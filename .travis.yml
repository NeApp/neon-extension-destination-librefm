language: node_js
node_js:
- '7'
install:
- npm install NeApp/neon-extension-framework#$TRAVIS_BRANCH > /dev/null 2>&1 && echo "Installed NeApp/neon-extension-framework#$TRAVIS_BRANCH" || true
- npm install
- npm dedupe
- npm ls
- npm install coveralls
script:
- npm run test
- npm run lint
- if [ ! -f ./Build/Coverage/lcov.info ]; then exit 1; fi
after_success:
- cat ./Build/Coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
deploy:
  provider: npm
  email: neapp-ci@me.dgardiner.net
  api_key:
    secure: GX3BJFwV1+Ju1JIj4R9kUwloh902jR9a+yW9fFd73/KzJ9G8NaysK2svi4ALNmbrOBdOLhAfStByCf3B79xo4nosRzYoOX40LYz/EkYWmC0kDuFwXqeH4a5rKLPDt9vxjT8ydcwWNZFUFhIP2T3iGb+9iqjKyvBnzgRZQGpjByJGuNwUwJkApuYZVUi33SxreUr6EO8+Q5IDnJR22oI4mX/c6Cgw1uuzIk9w7SL4V5QEo8JwqvBgc6QfYPukxytV9c84TPdpHEse6aP2Zsia7pYYrSFb4XnpAD5vx9meDvZUcRYsqoQlCG4ZjW7Jiu1p2zkLxFF1PPPAjDYcl+qM9WR6tHAE29Dne8UCccSVW6nvOl+0FJd0NIUvvCncM5II/bJV48LngRHnqmWjwpTm9Ntt2n9j86HPFFCKw+8N/+NwjuUM6lYsShVoKmLIAMtLLBXQpe97VVH9yA76oWpkkJblKtNg0Ueinpro/Sb2V9s4Kk5bjutqCPGPa1sRSdWp6gEzZCebqQjQ6Mtrzo24XdVt06xwUoP54ST9DC4Ujpxk3oYIRuIATQgUVOaxBDubrJgP/dennrA5/2obDNntGd+LzXt8Fo+op79/lCOtRL7wqoYaoIHCVA9ZdcYDuGJ2oNoWW59Fbgn/Y+YtukaMjAt5EEn6fgfc/sfaXEJUzxA=
  on:
    repo: NeApp/neon-extension-destination-librefm
    tags: true
